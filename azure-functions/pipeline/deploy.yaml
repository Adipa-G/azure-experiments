parameters:
- name: serviceConnectionName
  type: string
- name: resourceGroupName
  type: string
- name: location
  type: string
- name: pingFunctionAppName
  type: string

steps:
- task: AzureResourceGroupDeployment@2
  displayName: 'Ping - Azure Deployment:Create Or Update Resource Group'
  inputs:
    azureSubscription: '${{parameters.serviceConnectionName}}'
    resourceGroupName: '${{parameters.resourceGroupName}}'
    location: '${{parameters.location}}'
    csmFile: '$(System.DefaultWorkingDirectory)/drop/ping/azuredeploy.json'
    overrideParameters: '-appInsightsName function-apps-insights -functionAppName ${{parameters.pingFunctionAppName}}'
